!function(t,i,s){"use strict";var n,e,o=t.event;n=o.special.debouncedresize={setup:function(){t(this).on("resize",n.handler)},teardown:function(){t(this).off("resize",n.handler)},handler:function(t,i){var s=this,a=arguments,r=function(){t.type="debouncedresize",o.dispatch.apply(s,a)};e&&clearTimeout(e),i?r():e=setTimeout(r,n.threshold)},threshold:150};var a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";t.fn.imagesLoaded=function(i){var n=this,e=t.isFunction(t.Deferred)?t.Deferred():0,o=t.isFunction(e.notify),r=n.find("img").add(n.filter("img")),h=[],l=[],d=[];function p(){var s=t(l),o=t(d);e&&(d.length?e.reject(r,s,o):e.resolve(r)),t.isFunction(i)&&i.call(n,r,s,o)}function c(i,s){i.src!==a&&-1===t.inArray(i,h)&&(h.push(i),s?d.push(i):l.push(i),t.data(i,"imagesLoaded",{isBroken:s,src:i.src}),o&&e.notifyWith(t(i),[s,r,t(l),t(d)]),r.length===h.length&&(setTimeout(p),r.unbind(".imagesLoaded")))}return t.isPlainObject(i)&&t.each(i,(function(t,s){"callback"===t?i=s:e&&e[t](s)})),r.length?r.bind("load.imagesLoaded error.imagesLoaded",(function(t){c(t.target,"error"===t.type)})).each((function(i,n){var e=n.src,o=t.data(n,"imagesLoaded");o&&o.src===e?c(n,o.isBroken):n.complete&&n.naturalWidth!==s?c(n,0===n.naturalWidth||0===n.naturalHeight):(n.readyState||n.complete)&&(n.src=a,n.src=e)})):p(),e?e.promise(n):n};var r=t(i),h=i.Modernizr;t.Elastislide=function(i,s){this.$el=t(s),this._init(i)},t.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:3,start:0,onClick:function(t,i,s){return!1},onReady:function(){return!1},onBeforeSlide:function(){return!1},onAfterSlide:function(){return!1}},t.Elastislide.prototype={_init:function(i){this.options=t.extend(!0,{},t.Elastislide.defaults,i);var s=this;if(this.transEndEventName={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[h.prefixed("transition")],this.support=h.csstransitions&&h.csstransforms,this.current=this.options.start,this.isSliding=!1,this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,0===this.itemsCount)return!1;this._validate(),this.$items.detach(),this.$el.empty(),this.$el.append(this.$items),this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>'),this.hasTransition=!1,this.hasTransitionTimeout=setTimeout((function(){s._addTransition()}),100),this.$el.imagesLoaded((function(){s.$el.show(),s._layout(),s._configure(),s.hasTransition?(s._removeTransition(),s._slideToItem(s.current),s.$el.on(s.transEndEventName,(function(){s.$el.off(s.transEndEventName),s._setWrapperSize(),s._addTransition(),s._initEvents()}))):(clearTimeout(s.hasTransitionTimeout),s._setWrapperSize(),s._initEvents(),s._slideToItem(s.current),setTimeout((function(){s._addTransition()}),25)),s.options.onReady()}))},_validate:function(){this.options.speed<0&&(this.options.speed=500),(this.options.minItems<1||this.options.minItems>this.itemsCount)&&(this.options.minItems=1),(this.options.start<0||this.options.start>this.itemsCount-1)&&(this.options.start=0),"horizontal"!=this.options.orientation&&"vertical"!=this.options.orientation&&(this.options.orientation="horizontal")},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>'),this.$carousel=this.$el.parent(),this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var t=this.$items;this.imgSize={width:t.outerWidth(!0),height:t.outerHeight(!0)},this._setItemsSize(),this._addControls()},_addTransition:function(){this.support&&this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing),this.hasTransition=!0},_removeTransition:function(){this.support&&this.$el.css("transition","all 0s"),this.hasTransition=!1},_addControls:function(){var i=this;this.$navigation=t('<nav><span class="elastislide-prev np_btn fxEmbossBtn"><span class="btn_icon">Previous</span><span class="btn_hover"></span></span> <span class="elastislide-next np_btn fxEmbossBtn"><span class="btn_icon">Next</span><span class="btn_hover"></span></span></nav>').appendTo(this.$wrapper),t("body").hasClass("addCssTransition")&&t("nav .btn_hover").addClass("notIE"),this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",(function(t){return i._slide("prev"),!1})),this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",(function(t){return i._slide("next"),!1}))},_setItemsSize:function(){var t="horizontal"===this.options.orientation?100*Math.floor(this.$carousel.width()/this.options.minItems)/this.$carousel.width():100;this.$items.css({width:t+"%"}),this.$wrapper.parent().hasClass("imageCarousel")&&this.$items.css({height:this.imgSize.height,"max-width":0===this.imgSize.width?155:this.imgSize.width,"max-height":this.imgSize.height}),"vertical"===this.options.orientation&&this.$wrapper.css("max-width",this.imgSize.width+parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")))},_setWrapperSize:function(){"vertical"===this.options.orientation&&this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})},_configure:function(){this.fitCount="horizontal"===this.options.orientation?this.$carousel.width()<this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var i=this;r.on("debouncedresize.elastislide",(function(){i._setItemsSize(),i._configure(),i._slideToItem(i.current)})),this.$el.on(this.transEndEventName,(function(){i._onEndTransition()})),"horizontal"===this.options.orientation?this.$el.on({swipeleft:function(){i._slide("next")},swiperight:function(){i._slide("prev")}}):this.$el.on({swipeup:function(){i._slide("next")},swipedown:function(){i._slide("prev")}}),this.$el.on("click.elastislide","li",(function(s){var n=t(this);i.options.onClick(n,n.index(),s)}))},_destroy:function(t){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide"),r.off(".elastislide"),this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper),this.$items.css({width:"auto","max-width":"none","max-height":"none"}),this.$navigation.remove(),this.$wrapper.remove(),t&&t.call()},_toggleControls:function(t,i){i?"next"===t?this.$navNext.css({opacity:"1"}):this.$navPrev.css({opacity:"1"}):"next"===t?this.$navNext.css({opacity:".5"}):this.$navPrev.css({opacity:".5"})},_slide:function(i,n){if(this.isSliding)return!1;this.options.onBeforeSlide(),this.isSliding=!0;var e=this,o=this.translation||0,a="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),r=this.itemsCount*a,h="horizontal"===this.options.orientation?this.$carousel.width():this.$carousel.height();if(n===s){if((d=this.fitCount*a)<0)return!1;if("next"===i&&r-(Math.abs(o)+d)<h)d=r-(Math.abs(o)+h),this._toggleControls("next",!1),this._toggleControls("prev",!0);else if("prev"===i&&Math.abs(o)-d<0)d=Math.abs(o),this._toggleControls("next",!0),this._toggleControls("prev",!1);else{var l="next"===i?Math.abs(o)+Math.abs(d):Math.abs(o)-Math.abs(d);l>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),l<r-h?this._toggleControls("next",!0):this._toggleControls("next",!1)}n="next"===i?o-d:o+d}else{var d=Math.abs(n);Math.max(r,h)-d<h&&(n=-(Math.max(r,h)-h)),d>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),Math.max(r,h)-h>d?this._toggleControls("next",!0):this._toggleControls("next",!1)}if(this.translation=n,o===n)return this._onEndTransition(),!1;if(this.support)"horizontal"===this.options.orientation?this.$el.css("transform","translateX("+n+"px)"):this.$el.css("transform","translateY("+n+"px)");else{t.fn.applyStyle=this.hasTransition?t.fn.animate:t.fn.css;var p="horizontal"===this.options.orientation?{left:n}:{top:n};this.$el.stop().applyStyle(p,t.extend(!0,[],{duration:this.options.speed,complete:function(){e._onEndTransition()}}))}this.hasTransition||this._onEndTransition()},_onEndTransition:function(){this.isSliding=!1,this.options.onAfterSlide()},_slideTo:function(t){t=t||this.current;var i=Math.abs(this.translation)||0,s="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),n=i+this.$carousel.width(),e=Math.abs(t*s);(e+s>n||e<i)&&this._slideToItem(t)},_slideToItem:function(t){var i="horizontal"===this.options.orientation?t*this.$items.outerWidth(!0):t*this.$items.outerHeight(!0);this._slide("",-i)},add:function(t){var i=this,s=this.current,n=this.$items.eq(this.current);this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,this.current=n.index(),this._setItemsSize(),this._configure(),this._removeTransition(),s<this.current?this._slideToItem(this.current):this._slide("next",this.translation),setTimeout((function(){i._addTransition()}),25),t&&t.call()},setCurrent:function(t,i){this.current=t,this._slideTo(),i&&i.call()},next:function(){self._slide("next")},previous:function(){self._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(t){this._destroy(t)}};var l=function(t){i.console&&i.console.error(t)};t.fn.elastislide=function(i){var s=t.data(this,"elastislide");if("string"==typeof i){var n=Array.prototype.slice.call(arguments,1);this.each((function(){s?t.isFunction(s[i])&&"_"!==i.charAt(0)?s[i].apply(s,n):l("no such method '"+i+"' for elastislide self"):l("cannot call methods on elastislide prior to initialization; attempted to call method '"+i+"'")}))}else this.each((function(){s?s._init():s=t.data(this,"elastislide",new t.Elastislide(i,this))}));return s}}(jQuery,window);